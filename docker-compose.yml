version: "3.7"
services:
  advent-php:
    build:
      dockerfile: Dockerfile
      context: .
    entrypoint: php -d xdebug.remote_autostart=1 -d xdebug.remote_enable=1 -d xdebug.remote_port=9000 "${XDEBUG_USER_CONFIG:--d xdebug.remote_connect_back=1}"
    environment:
      PHP_IDE_CONFIG: "serverName=advent-of-code"
    volumes:
      - .:/opt/project
  advent-composer:
    build:
      dockerfile: Dockerfile
      context: .
    entrypoint: composer
    volumes:
      - .:/opt/project
